<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Value Check</title>
    <meta name="description" content="Transparent value investing checks with daily-refreshed data." />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link href="https://fonts.googleapis.com/css2?family=Bricolage+Grotesque:wght@400;600;700&family=Manrope:wght@400;500;600;700&display=swap" rel="stylesheet" />
    <link rel="stylesheet" href="styles.css" />
  </head>
  <body>
    <div class="backdrop"></div>
    <header class="site-header">
      <a class="brand" href="#/" id="nav-home">
        <span class="mark"></span>
        <span class="word">Value Check</span>
      </a>
      <nav class="nav">
        <a href="#/analyzer" id="nav-analyzer">Analyzer</a>
        <a href="#/lab" id="nav-lab">Lab</a>
        <a href="#/compare" id="nav-compare">Battle</a>
        <a href="#/methodology">Methodology</a>
        <a href="#/support">Support</a>
      </nav>
      <div class="cta">
        <button class="ghost" id="nav-search">Check a Stock</button>
      </div>
    </header>

    <main class="main">
      <div id="error-banner" class="error-banner"></div>
      <div id="loading-overlay" class="loading-overlay">
        <div class="spinner"></div>
        <div class="loading-text">Loading analysis…</div>
      </div>
      <section id="route-home" class="route is-active" data-route="home">
        <div class="hero">
          <div class="hero-text">
            <p class="eyebrow">Daily-refreshed, transparent value checks</p>
            <h1>Know what a stock is worth before you buy.</h1>
            <p class="lead">
              A single-stock workflow that surfaces assumptions, calculates intrinsic value ranges, and
              makes uncertainty explicit.
            </p>
            <div class="search">
              <input id="ticker-input" placeholder="Ticker or company (e.g., BRK.B or Berkshire)" />
              <button id="ticker-go">Analyze</button>
              <div id="search-suggestions" class="suggestions"></div>
            </div>
            <div class="status">US stocks only · Daily refresh · No login required</div>
          </div>
          <div class="hero-card">
            <div class="hero-card__label">Value Check Final Score</div>
            <div class="hero-card__score" id="hero-score">7/10</div>
            <div class="hero-card__meta">Sample: BRK.B · Mixed</div>
            <div class="hero-card__grid">
              <div>
                <span>Margin of Safety</span>
                <strong id="hero-mos">+8%</strong>
              </div>
              <div>
                <span>Solvency</span>
                <strong id="hero-solvency">Safe</strong>
              </div>
              <div>
                <span>Shareholder Yield</span>
                <strong id="hero-yield">9.8%</strong>
              </div>
              <div>
                <span>Last Updated</span>
                <strong id="hero-updated">Daily</strong>
              </div>
            </div>
          </div>
        </div>

        <div class="trending">
          <div class="section-head">
            <h2>Trending</h2>
            <span>Pre-cached daily</span>
          </div>
          <div id="trending-list" class="ticker-grid"></div>
        </div>
      </section>

      <section id="route-analyzer" class="route" data-route="analyzer">
        <div class="page-head">
          <div>
            <h2 id="analyzer-title">Analyzer</h2>
            <p class="muted" id="analyzer-meta">Last updated: —</p>
          </div>
          <div class="score-card">
            <div class="label">Value Check Final Score</div>
            <div class="score" id="final-score">—</div>
            <div class="verdict" id="final-verdict">—</div>
          </div>
        </div>

        <div class="panel moat-panel" id="moat-panel">
          <div class="panel-head">
            <h3>Moat Signals</h3>
          </div>
          <p class="panel-subtitle">One-line moat read on pricing power, capital intensity, balance-sheet risk, solvency, and buybacks.</p>
          <div id="moat-summary" class="moat-summary moat-row"></div>
        </div>

        <div class="panel filing-panel" id="filing-panel">
          <div class="panel-head">
            <h3>Filing Delta</h3>
            <span class="muted" id="filing-status">Waiting for filing data</span>
          </div>
          <p class="panel-subtitle" id="filing-subtitle">Latest 10-K/10-Q changes vs previous filing.</p>
          <div class="filing-meta" id="filing-meta"></div>
          <div class="filing-grid" id="filing-deltas"></div>
        </div>

        <div class="analyzer-grid">
          <div class="analyzer-col">
            <div class="panel">
              <div class="panel-head">
                <h3>Quality Factor Matrix</h3>
                <span class="muted">10 fundamental tests</span>
              </div>
              <div id="checklist-table" class="table"></div>
            </div>
          </div>

          <div class="analyzer-col">
            <div class="panel snapshot-panel">
              <div class="panel-head">
                <h3>Snapshots</h3>
                <span class="muted">Quick readouts</span>
              </div>
              <div class="snapshot-grid" id="snapshot-grid"></div>
              <div class="snapshot-actions">
                <button class="primary" id="to-valuation">View Fair Value</button>
                <p class="snapshot-hint">Compare market price vs intrinsic range.</p>
              </div>
            </div>

            <div id="peer-bar" class="peer-bar">
              <div class="peer-label">
                <span class="muted">Compare</span>
                <strong id="peer-base">AAPL</strong>
                <span class="muted">vs peers</span>
              </div>
              <div id="peer-chips" class="peer-chips"></div>
            </div>
          </div>
        </div>
      </section>

      <section id="route-compare" class="route" data-route="compare">
        <div class="compare-hero">
          <div class="compare-icon">⚔︎</div>
          <h2>Head-to-Head Compare</h2>
          <p class="muted">Stack two stocks side by side and see who wins on fundamentals.</p>
        </div>

        <div class="compare-bar">
          <div class="compare-field">
            <label for="compare-left">Stock #1</label>
            <input id="compare-left" placeholder="Ticker or company" />
            <div id="compare-left-suggestions" class="suggestions"></div>
          </div>
          <div class="compare-vs">vs</div>
          <div class="compare-field">
            <label for="compare-right">Stock #2</label>
            <input id="compare-right" placeholder="Ticker or company" />
            <div id="compare-right-suggestions" class="suggestions"></div>
          </div>
          <button id="compare-go" class="primary">Compare</button>
        </div>

        <div class="compare-board">
          <div class="compare-title">Tale of the Tape</div>
          <div id="compare-grid" class="compare-grid"></div>
        </div>
      </section>

      <section id="route-lab" class="route" data-route="lab">
        <div class="page-head lab-page-head">
          <div>
            <h2>Value Scenario Lab</h2>
            <p class="muted">Build base, bull, and bear fair values from your own assumptions. Free-only model.</p>
          </div>
        </div>

        <div class="panel lab-panel">
          <div class="lab-toolbar">
            <div class="lab-search">
              <label for="lab-input">Ticker or company</label>
              <div class="lab-search-row">
                <input id="lab-input" placeholder="e.g., AAPL or Apple" />
                <button id="lab-go" class="primary">Load</button>
              </div>
              <div id="lab-suggestions" class="suggestions"></div>
            </div>
            <div class="lab-meta">
              <span class="muted">Current ticker</span>
              <strong id="lab-company">—</strong>
              <span class="muted" id="lab-price">Current price: —</span>
            </div>
          </div>

          <div class="lab-grid">
            <section class="lab-assumptions">
              <div class="lab-head-row">
                <h3>Assumptions</h3>
                <div class="lab-mode" role="group" aria-label="Lab mode">
                  <button id="lab-mode-fair" class="lab-mode-btn is-active" type="button">Fair Value</button>
                  <button id="lab-mode-implied" class="lab-mode-btn" type="button">Required Growth</button>
                </div>
              </div>
              <p class="muted" id="lab-assumption-subtitle">
                Tune assumptions and see estimated fair value range. Use Required Growth mode to solve what growth must be true at today's price.
              </p>
              <div class="lab-presets" role="group" aria-label="Assumption presets">
                <button id="lab-preset-conservative" class="ghost lab-preset-btn" type="button">Conservative</button>
                <button id="lab-preset-base" class="ghost lab-preset-btn" type="button">Base</button>
                <button id="lab-preset-optimistic" class="ghost lab-preset-btn" type="button">Optimistic</button>
                <button id="lab-preset-reset" class="ghost lab-preset-btn" type="button">Reset</button>
              </div>
              <div class="lab-inputs">
                <label class="lab-control">
                  <div class="lab-control-head">
                    <span>Base EPS (USD)</span>
                    <input id="lab-eps-num" type="number" min="0.5" max="30" step="0.1" />
                  </div>
                  <input id="lab-eps" type="range" min="0.5" max="30" step="0.1" />
                  <small class="lab-help">Starting earnings per share used for projection.</small>
                </label>
                <label class="lab-control">
                  <div class="lab-control-head">
                    <span>Growth Rate (%)</span>
                    <input id="lab-growth-num" type="number" min="-10" max="30" step="0.1" />
                  </div>
                  <input id="lab-growth" type="range" min="-10" max="30" step="0.1" />
                  <small class="lab-help">Annual EPS growth for the projection horizon.</small>
                </label>
                <label class="lab-control">
                  <div class="lab-control-head">
                    <span>Discount Rate (%)</span>
                    <input id="lab-discount-num" type="number" min="4" max="20" step="0.1" />
                  </div>
                  <input id="lab-discount" type="range" min="4" max="20" step="0.1" />
                  <small class="lab-help">Required return. Higher discount lowers present value.</small>
                </label>
                <label class="lab-control">
                  <div class="lab-control-head">
                    <span>Exit P/E (x)</span>
                    <input id="lab-pe-num" type="number" min="6" max="40" step="0.1" />
                  </div>
                  <input id="lab-pe" type="range" min="6" max="40" step="0.1" />
                  <small class="lab-help">Terminal multiple applied at the end of the horizon.</small>
                </label>
                <label class="lab-control">
                  <div class="lab-control-head">
                    <span>Payout Ratio (%)</span>
                    <input id="lab-payout-num" type="number" min="0" max="80" step="1" />
                  </div>
                  <input id="lab-payout" type="range" min="0" max="80" step="1" />
                  <small class="lab-help">Percent of EPS assumed to be distributed each year.</small>
                </label>
                <label class="lab-control">
                  <div class="lab-control-head">
                    <span>Horizon (years)</span>
                    <input id="lab-years-num" type="number" min="3" max="12" step="1" />
                  </div>
                  <input id="lab-years" type="range" min="3" max="12" step="1" />
                  <small class="lab-help">Projection length before terminal value is applied.</small>
                </label>
              </div>
              <div class="lab-guidance">
                <p><strong>How to read this:</strong> Small changes in discount rate or exit multiple can move value a lot.</p>
                <p>Use Base first, then stress-test with Conservative and Optimistic presets.</p>
              </div>
            </section>

            <section class="lab-results">
              <h3>Scenario Outputs</h3>
              <p class="muted" id="lab-results-subtitle">Each scenario auto-adjusts growth, discount, and exit multiple around your base case.</p>
              <div class="lab-cards">
                <article class="lab-card bear">
                  <div class="lab-card-head">
                    <strong>Bear</strong>
                    <span id="lab-bear-mos">MOS —</span>
                  </div>
                  <div class="lab-card-value" id="lab-bear-value">$—</div>
                  <p id="lab-bear-note">Fair value estimate</p>
                </article>
                <article class="lab-card base">
                  <div class="lab-card-head">
                    <strong>Base</strong>
                    <span id="lab-base-mos">MOS —</span>
                  </div>
                  <div class="lab-card-value" id="lab-base-value">$—</div>
                  <p id="lab-base-note">Fair value estimate</p>
                </article>
                <article class="lab-card bull">
                  <div class="lab-card-head">
                    <strong>Bull</strong>
                    <span id="lab-bull-mos">MOS —</span>
                  </div>
                  <div class="lab-card-value" id="lab-bull-value">$—</div>
                  <p id="lab-bull-note">Fair value estimate</p>
                </article>
              </div>
              <div class="lab-summary" id="lab-summary">
                Scenario spread and margin of safety will appear here.
              </div>
            </section>
          </div>
        </div>
      </section>

      <section id="route-valuation" class="route" data-route="valuation">
        <div class="page-head">
          <div>
            <h2 id="valuation-title">Fair Value Analysis</h2>
            <p class="muted">Comparing intrinsic value models vs. market price.</p>
          </div>
          <div class="value-pill" id="mos-pill">—</div>
        </div>

        <div class="grid two">
          <div class="panel">
            <div class="panel-head">
              <h3>Valuation Range</h3>
              <span class="muted">DCF · Graham · Lynch</span>
            </div>
            <div id="valuation-bars" class="bars"></div>
            <div class="muted" id="implied-growth">—</div>
          </div>

          <div class="panel">
            <div class="panel-head">
              <h3>Verdict</h3>
              <span class="muted">Market expectations vs. intrinsic value</span>
            </div>
            <div class="verdict-block" id="valuation-verdict">—</div>
            <button class="primary" id="to-memo">Generate Memo</button>
          </div>
        </div>
      </section>

      <section id="route-memo" class="route" data-route="memo">
        <div class="page-head">
          <div>
            <h2 id="memo-title">Investment Memo</h2>
            <p class="muted">Generated summary. Edit as needed.</p>
          </div>
          <button class="ghost" id="to-snapshot">Create Snapshot</button>
        </div>
        <div class="panel">
          <textarea id="memo-text" rows="16"></textarea>
          <div class="disclaimer">This analysis is generated by AI and is not financial advice.</div>
        </div>
      </section>

      <section id="route-snapshot" class="route" data-route="snapshot">
        <div class="page-head">
          <div>
            <h2 id="snapshot-title">Snapshot</h2>
            <p class="muted">Read-only summary for sharing.</p>
          </div>
          <button class="ghost" id="copy-link">Copy Link</button>
        </div>
        <div class="panel" id="snapshot-content"></div>
      </section>

      <section id="route-methodology" class="route" data-route="methodology">
        <div class="method-shell">
          <div class="method-main">
            <section class="panel method-intro">
              <h2>Signal vs. Noise.</h2>
              <p>
                Don't get distracted by too much data. Our algorithms isolate the few critical metrics that
                actually determine a business's long-term durability, filtering out the noise to focus purely on quality.
              </p>
            </section>

            <section class="panel method-section">
              <h3>1. Profitability &amp; Pricing Power</h3>
              <div class="method-metrics">
                <article class="method-metric">
                  <h4>Gross Margin &gt; 40%</h4>
                  <p>
                    High gross margins indicate pricing power. If a company can mark up its goods significantly,
                    it likely has a brand moat rather than a commodity product.
                  </p>
                </article>
                <article class="method-metric">
                  <h4>Net Margin &gt; 20%</h4>
                  <p>
                    This measures the bottom line. A company that keeps more than 20 cents of every dollar of revenue
                    is highly efficient and likely dominates its niche.
                  </p>
                </article>
                <article class="method-metric">
                  <h4>Return on Equity &gt; 15%</h4>
                  <p>
                    ROE measures how efficiently management uses shareholder capital.
                    Consistently high ROE is the hallmark of a compounder.
                  </p>
                </article>
              </div>
            </section>

            <section class="panel method-section">
              <h3>2. Operational Discipline</h3>
              <div class="method-metrics">
                <article class="method-metric">
                  <h4>SG&amp;A &lt; 30%</h4>
                  <p>
                    Selling, General, and Admin costs should stay low. If a company must spend heavily on sales and
                    marketing to maintain demand, its moat is weaker.
                  </p>
                </article>
                <article class="method-metric">
                  <h4>R&amp;D Reliance &lt; 30%</h4>
                  <p>
                    We prefer companies that do not need constant reinvention just to survive.
                    High R&amp;D dependence can indicate intense competition.
                  </p>
                </article>
                <article class="method-metric">
                  <h4>Capex Efficiency &lt; 50%</h4>
                  <p>
                    Great businesses do not require heavy capital expenditure to grow.
                    We look for companies that can maintain operations using less than half of earnings.
                  </p>
                </article>
              </div>
            </section>

            <section class="panel method-section">
              <h3>3. Solvency &amp; Safety</h3>
              <div class="method-metrics">
                <article class="method-metric">
                  <h4>Debt / Equity &lt; 0.5</h4>
                  <p>
                    We avoid high leverage. A ratio under 0.5 suggests the business is primarily funded by retained
                    profits, not by borrowing.
                  </p>
                </article>
                <article class="method-metric">
                  <h4>Interest Coverage &gt; 6x</h4>
                  <p>
                    We require operating income to be at least 6 times interest expense, creating a margin of safety
                    during weak cycles.
                  </p>
                </article>
                <article class="method-metric">
                  <h4>Consistent Earnings</h4>
                  <p>
                    We want at least a 5-year track record of positive earnings to avoid story stocks that rely on
                    future promises.
                  </p>
                </article>
              </div>
            </section>

            <section class="panel method-section">
              <h3>4. Capital Allocation</h3>
              <div class="method-metrics method-metrics--single">
                <article class="method-metric">
                  <h4>The "$1" Retained Earnings Test</h4>
                  <p>
                    For every $1 of earnings management keeps, long-term market value should increase by at least $1.
                    If it does not, shareholders would likely be better served by distributions.
                  </p>
                  <blockquote>
                    "We test the wisdom of retaining earnings by assessing whether retention delivers at least $1
                    of market value for each $1 retained." - Warren Buffett
                  </blockquote>
                </article>
              </div>
            </section>
          </div>
        </div>

        <section class="panel method-disclaimer">
          <p>
            <strong>Disclaimer:</strong> This application is for educational and informational purposes only.
            It does not constitute financial advice, investment recommendations, or an offer to buy or sell securities.
          </p>
          <p>
            Financial data is sourced from free providers and may contain inaccuracies. Always conduct your own due diligence and
            consult a certified financial advisor before making investment decisions.
          </p>
        </section>

        <section class="panel method-support">
          <div class="method-support-copy">
            <h3>Support the Project</h3>
            <p>Hosting costs around $20/month. If this tool helped you, consider supporting development.</p>
          </div>
          <a
            class="primary method-support-button"
            href="https://buymeacoffee.com/piyush.kumar"
            target="_blank"
            rel="noopener noreferrer"
          >
            Buy me a coffee
          </a>
        </section>
      </section>

      <section id="route-support" class="route" data-route="support">
        <div class="page-head">
          <div>
            <h2>Support</h2>
            <p class="muted">Questions, feedback, and disclaimers.</p>
          </div>
        </div>
        <div class="panel">
          <h3>FAQ</h3>
          <p><strong>Is this financial advice?</strong> No. This app is for educational use only.</p>
          <p><strong>Why is data not real-time?</strong> We use free-tier data and refresh daily.</p>
          <p><strong>Can I save my notes?</strong> Not in MVP. Snapshots are shareable and read-only.</p>
        </div>
      </section>
    </main>

    <footer class="footer">
      <div>ValueCheck · Institutional-grade automated due diligence.</div>
    </footer>

    <script>
      window.VALUE_CHECK_API_BASE = "https://value-check.value-check.workers.dev";
    </script>
    <script src="app.js"></script>
  </body>
</html>
